from fastapi import FastAPIfrom pydantic import BaseModelfrom ia_local.ollama_wrapper import OllamaWrappermodelo_atual = {"nome": "phi3"}class ModeloEscolhido(BaseModel):    modelo: str@app.post("/modelo")def escolher_modelo(opcao: ModeloEscolhido):    modelo_atual["nome"] = opcao.modelo    return {"modelo_atual": modelo_atual["nome"]}@app.post("/local")async def usar_ia_local(cmd: Comando):    console.log(f"[{modelo_atual['nome']}] Pergunta recebida: {cmd.texto}")    wrapper = OllamaWrapper(model=modelo_atual["nome"])    resposta = wrapper.query(cmd.texto)    falar(resposta)    adicionar_entrada(resposta, {"origem": "ia_local", "modelo": modelo_atual["nome"]})    registar_interacao(cmd.texto, resposta)    return {"resposta": resposta}