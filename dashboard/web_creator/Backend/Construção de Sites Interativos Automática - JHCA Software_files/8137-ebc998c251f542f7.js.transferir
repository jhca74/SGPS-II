!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="356cd724-0058-4542-aafa-1dfa85ac72ea",e._sentryDebugIdIdentifier="sentry-dbid-356cd724-0058-4542-aafa-1dfa85ac72ea")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8137],{34521:function(e,t,r){r.d(t,{Cn:function(){return Q},_I:function(){return es},LA:function(){return en}});var s=r(584),n=r(50240);let a=e=>{var t;let r=-1;(null!==(t=e.match(/\*\*/g))&&void 0!==t?t:[]).length%2==1&&(r=e.lastIndexOf("**"));let s=-1,n=e.lastIndexOf("\\[");n>e.lastIndexOf("]")&&(s=n);let a=-1,l=e.lastIndexOf("\\(");l>e.lastIndexOf("\\)")&&(a=l);let i=-1,o=e.lastIndexOf("<x");o>e.lastIndexOf(">")&&(i=o);let c=-1,d=e.lastIndexOf("\n"),u=e.substring(d).trim();(u.startsWith("-")||0===u.length)&&(c=d);let m=-1;/^\d+\.?/.test(u)&&(m=d);let x=-1===i?100:300,h=[r,s,a,i,c,m].filter(t=>-1!==t&&t>e.length-x);return 0===h.length?e.length-1:Math.min(...h)};var l=r(7263),i=r(75075),o=r(81858),c=r.n(o),d=r(9354),u=r(66070),m=r(12137),x=r(62339),h=r(22852);let p=["www.archives.gov"],f=[".pdf"];var g=r(84377),b=r(2235);let v=e=>{let t=[],r=e.replace(/(```[\s\S]*?```|```[\s\S]*|`[^`\n]+`)/g,e=>(t.push(e),"<<CODE_BLOCK_".concat(t.length-1,">>")));return{codeBlocks:t,processedContent:r}};function j(e){return e.replace(/\\text\{([^}]*)\}/g,(e,t)=>{let r=t.replace(RegExp("(?<!\\\\)([_^&%#])","g"),"\\$1");return"\\text{".concat(r,"}")})}let w=e=>{let t=e.replace(/\\begin\{equation\}([\s\S]*?)\\end\{equation\}/g,(e,t)=>"\\[ ".concat(t," \\]"));t=(t=t.replace(/\\\[\s*\\boxed\{.*\}\s*\\\]/g,e=>e+"\n")).replace(/\$\$([\s\S]*?)\$\$/g,(e,t)=>"\\[ ".concat(t," \\]"));let r=[];return t=t.replace(/(\\\[)([\s\S]*?)\\\]|\\\(([\s\S]*?)\\\)/g,(e,t,s,n)=>t?(r.push(j(s)),"<<LATEX_BLOCK_".concat(r.length-1,">>")):void 0!==n?(r.push(j(n)),"<<LATEX_BLOCK_".concat(r.length-1,">>")):e),{latexBlockExpressions:r,processedContent:t}},y=e=>{let{content:t,latexBlockExpressions:r,codeBlocks:s}=e;return t.replace(/<<LATEX_BLOCK_(\d+)>>/g,(e,t)=>"$$ ".concat(r[parseInt(t,10)]||""," $$")).replace(/<<CODE_BLOCK_(\d+)>>/g,(e,t)=>s[parseInt(t,10)]||"")};var N=r(24638),k=r(57750);r(43619);var C=r(76321),S=r(9102),I=r(72494),R=r(34478),z=r(98948),E=r(19748),P=r(90496),_=r(55608),T=r(81828),O=r(682),M=r(29671),L=r(49033),F=r(25343),A=r(88342),Z=r(80077),D=r(87002),U=r(19922),$=r(13846);let W=[];function G(){let e=this.data();e.micromarkExtensions=[{...e.micromarkExtensions||[]},{disable:{null:["codeIndented"]}}]}let K=()=>e=>{(0,D.Vn)(e,"list",e=>{e.spread=!1})},V=()=>e=>{(0,D.Vn)(e,"element",e=>{"span"===e.tagName&&e.properties&&e.properties.className&&"string"==typeof e.properties.className&&e.properties.className.includes("katex-error")&&(e.tagName="span",e.properties={},e.children&&e.children[0]&&"text"===e.children[0].type&&(e.children=[{type:"text",value:e.children[0].value}]))})},B=(0,n.memo)(O.U,(e,t)=>e.children===t.children),q=(0,n.createContext)({isNested:!1,sender:""});function X(e){if(null==e)return null;let t=n.Children.toArray(e),r=0,a=[];for(let e of t)if("string"==typeof e)for(let t of e.split(/(\s+)/))""!==t&&(""===t.trim()?a.push((0,s.jsx)("span",{children:t},"space-".concat(r++))):a.push((0,s.jsx)("span",{className:"animate-gaussian",children:t},"word-".concat(r++))));else n.isValidElement(e)?a.push(n.cloneElement(e,{key:"element-".concat(r++),className:(0,l.cn)(e.props.className,"animate-gaussian")})):a.push((0,s.jsx)("span",{className:"animate-gaussian",children:String(e)},"other-".concat(r++)));return a}let H={p(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,l.cn)("break-words",t),...a,children:r})},h1(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h1",{dir:"auto",className:(0,l.cn)(t),...a,children:r})},h2(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h2",{dir:"auto",className:(0,l.cn)(t),...a,children:r})},h3(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h3",{dir:"auto",className:(0,l.cn)(t),...a,children:r})},h4(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h4",{dir:"auto",className:(0,l.cn)(t),...a,children:r})},h5(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h5",{dir:"auto",className:(0,l.cn)(t),...a,children:r})},h6(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h6",{dir:"auto",className:(0,l.cn)(t),...a,children:r})},ul(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("ul",{dir:"auto",className:(0,l.cn)("marker:text-secondary",t),...a,children:r})},ol(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("ol",{dir:"auto",className:(0,l.cn)("marker:text-secondary",t),...a,children:r})},li(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("li",{className:(0,l.cn)("break-words",t),...a,children:r})},pre(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("div",{dir:"auto",className:"not-prose",children:t})},table(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("div",{dir:"auto",className:"overflow-x-auto my-2",children:(0,s.jsx)("table",{dir:"auto",...n,children:t})})},thead(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("thead",{className:"border-b border-primary/20",...n,children:t})},tr(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("tr",{className:"border-primary/10",...n,children:t})},th(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("th",{className:"break-words",...n,children:t})},td(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("td",{style:{whiteSpace:"pre-wrap"},className:"break-words",...n,children:t})},blockquote(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("blockquote",{dir:"auto",className:"border-primary/20",...n,children:t})},hr(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("hr",{...n})},code(e){let{node:t,className:r,children:a,...o}=e,{t:c}=(0,u.$G)("base"),{resolvedTheme:m}=(0,T.F)(),{isNested:p,sender:f}=(0,n.useContext)(q),b=(0,k.F)(e=>e.userSettings.preferences.autoWrapLongLinesCode),v=(0,U.gK)(d.Z("setSidePanelContent")),j=/language-(\w+)/.exec(r||""),w=j?j[1]:"text",y=/\n$/.test(String(a)),[O,F]=(0,n.useState)(!0),[A,Z]=(0,n.useState)(b),D=(0,n.useCallback)(()=>Z(e=>!e),[]),[W,G]=(0,n.useState)(!1),K=(0,n.useCallback)(()=>G(e=>!e),[]),[V,B]=(0,n.useState)(!1),X=(0,n.useCallback)(()=>{if(""===a.trim())return;let e=a;e=e.replace(/(\n)$/,""),navigator.clipboard.writeText(e).then(()=>{B(!0),setTimeout(()=>B(!1),2e3)}).catch(e=>{(0,N.H)("chat-markdown",e)})},[a]),H=String(a),Y=(0,n.useRef)(null),[Q,J,ee,et]=(0,g.y)(H,w),er=(0,n.useCallback)(()=>{setTimeout(()=>{var e;null===(e=Y.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},0),Q()},[Q,Y]),es=(0,n.useCallback)(()=>F(e=>!e),[F]),en=(0,n.useCallback)(()=>F(!1),[F]),ea=(0,n.useCallback)(()=>F(!0),[F]),el="ontouchstart"in window||navigator.maxTouchPoints>0,ei=(0,n.useMemo)(()=>{if("html"!==w)return!1;try{return!!new DOMParser().parseFromString(H,"text/html").querySelector("html")&&H.includes("<html")}catch(e){return!1}},[w,H]),eo=(0,n.useMemo)(()=>H.split("\n").length-1,[H]);return y?(0,s.jsxs)("div",{className:(0,l.cn)("relative [&_div+div]:!mt-0 mt-3 mb-3",!p&&"-mx-4","human"===f&&"-mx-0 mt-2 mb-2 min-w-52 dark:border-0 border rounded-xl","-mr-2 @md:-mr-4"),children:[(0,s.jsx)("div",{onMouseEnter:en,onMouseLeave:ea,className:"flex flex-row px-4 py-2 h-10 items-center rounded-t-xl bg-surface-l2 border border-border-l1",children:(0,s.jsx)("span",{className:"font-mono text-xs",children:w})}),(0,s.jsx)("div",{onMouseEnter:en,onMouseLeave:ea,className:"sticky w-full right-2 z-10 ".concat(p?"top-40":"@[1280px]/mainview:z-40 @[1280px]/mainview:top-10 top-24 @[0px]/preview:top-5"),children:(0,s.jsxs)("div",{className:"absolute bottom-1 right-1 flex flex-row gap-0.5",children:[(0,s.jsx)(P.M,{children:!O&&(0,s.jsxs)(_.E.div,{className:"flex flex-row gap-0.5",animate:"visible",initial:"hidden",variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.1,ease:"easeInOut"},children:[ei&&(0,s.jsxs)(h.zx,{onClick:()=>{v({type:"htmlPreview",data:H})},variant:"sticky",size:"sm",className:"@[0px]/preview:hidden",children:[(0,s.jsx)(C.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Preview","Preview")})]}),(0,s.jsx)(h.zx,{variant:"sticky",size:"sm",onClick:K,children:W?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Expand","Expand")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Collapse","Collapse")})]})}),(0,s.jsx)(h.zx,{onClick:D,variant:"sticky",size:"sm",children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Unwrap","Unwrap")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Wrap","Wrap")})]})}),et()&&(0,s.jsx)(h.zx,{onClick:er,variant:"sticky",size:"sm",disabled:ee,children:ee?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.nQG,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("code-execution.running","Running")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("code-execution.run","Run")})]})})]})}),O&&(0,s.jsx)(h.g$,{onClick:es,variant:"sticky",size:"sm",tooltipContent:c("codeblock.more","Options"),tooltipContentProps:{side:"bottom"},asChild:!0,disabled:!el,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.nWS,{className:"size-4"})})}),(0,s.jsx)(h.zx,{onClick:X,variant:"sticky",size:"sm",disabled:V,children:V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.nQG,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Copied","Copied")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.TI,{className:"size-4"}),(0,s.jsx)("span",{className:"hidden @sm:block",children:c("Copy","Copy")})]})})]})}),(0,s.jsx)(M.Z,{style:"dark"===m?L.FE:L.lf,customStyle:{borderRadius:"0px 0px 12px 12px",border:"1px solid var(--border-l1)",borderTop:"none",padding:16,marginTop:0,borderColor:"none",fontSize:".9em",fontFamily:"var(--font-ibm-plex-mono)",lineHeight:"1.5em",background:"dark"===m?"var(--surface-inset)":"var(--surface-l1)",color:"var(--fg-primary)",display:W?"none":"block"},codeTagProps:{style:{lineHeight:"inherit",fontSize:"inherit"}},wrapLongLines:A,PreTag:"div",language:w,...o,children:H.replace(/\n$/,"")}),(0,s.jsx)("div",{ref:Y}),W&&(0,s.jsx)("div",{className:(0,l.cn)("dark"===m?"bg-surface-inset":"bg-surface-l1","text-fg-secondary","text-[.9em] leading-[1.5em]","rounded-b-[12px] p-[16px]","italic","border border-border-l1 border-t-0"),children:c("lines",{count:eo,defaultValue_one:"{{count}} hidden line",defaultValue_other:"{{count}} hidden lines"})}),(0,s.jsx)($.Y,{className:"pt-2",runCodeResult:J,isRunningCode:ee})]}):(0,s.jsx)("span",{className:(0,l.cn)("text-sm px-1 rounded-sm !font-mono","bg-orange-400/10 text-orange-500 dark:bg-orange-300/10 dark:text-orange-200",r),...o,children:a})}},Y=e=>({p(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},h1(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("h1",{dir:"auto",className:(0,l.cn)("break-word",r),...i,children:ea(n,e)})},h2(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("h2",{dir:"auto",className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},h3(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("h3",{dir:"auto",className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},h4(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("h4",{dir:"auto",className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},h5(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("h5",{dir:"auto",className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},h6(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("h6",{dir:"auto",className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},li(t){let{className:r,children:n,node:a,...i}=t;return(0,s.jsx)("li",{className:(0,l.cn)("break-words",r),...i,children:ea(n,e)})},pre(t){let{children:r,node:n,...a}=t;return(0,s.jsx)("div",{className:"not-prose",children:ea(r,e)})},td(t){let{children:r,node:n,...a}=t;return(0,s.jsx)("td",{style:{whiteSpace:"pre-wrap"},className:"break-words",...a,children:ea(r,e)})},th(t){let{children:r,node:n,...a}=t;return(0,s.jsx)("th",{className:"break-words",...a,children:ea(r,e)})}}),Q=n.memo(e=>{let{sender:t,webSearchResults:r,xposts:a,children:l,isNested:i,hideCitations:o,matchedWords:u=W,setExtractedMedia:x}=e,h=(0,n.useMemo)(()=>(function(e){let{codeBlocks:t,processedContent:r}=v(e),{latexBlockExpressions:s,processedContent:n}=w(r);return y({content:n,latexBlockExpressions:s,codeBlocks:t})})(l),[l]),g=(0,n.useMemo)(()=>{let e=c().mapValues(c().keyBy(r,"url"),e=>(0,s.jsx)(m.j2,{webSearchResult:e})),t=c().mapValues(c().keyBy(a,e=>"https://x.com/".concat(e.username,"/status/").concat(e.postId)),e=>(0,s.jsx)(m.If,{xPost:e}));return{...e,...t}},[r,a]),j=(0,n.useMemo)(()=>(null==u?void 0:u.length)?Y(u):{},[u]),N=(0,U.gK)(d.Z("setSidePanelContent")),k=(0,n.useRef)({});(0,n.useEffect)(()=>()=>{null==x||x([])},[x]),(0,b.N)(()=>{null==x||x(Object.values(k.current))},100,[k.current]);let C=(0,n.useMemo)(()=>({a(e){var t,r,n;let{className:a,children:l,node:i,...c}=e,d=new URL(null===(r=window)||void 0===r?void 0:null===(t=r.location)||void 0===t?void 0:t.href);try{d=new URL(null!==(n=c.href)&&void 0!==n?n:"")}catch(e){return null}"www.youtube.com"===d.hostname&&c.href?k.current[c.href]||(k.current[c.href]={type:"youtube",url:c.href}):"www.reddit.com"===d.hostname&&c.href?k.current[c.href]||(k.current[c.href]={type:"reddit",url:c.href}):"www.tiktok.com"===d.hostname&&c.href&&!k.current[c.href]&&(k.current[c.href]={type:"tiktok",url:c.href});let m=".".concat(d.pathname.toLowerCase().split(".").pop()),x=c.href&&g[c.href];return!o&&x?x:p.includes(d.hostname)&&f.some(e=>e===m)?(0,s.jsx)("a",{...c,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.preventDefault(),c.href&&N({type:"rawAsset",data:{fileMetadataId:c.href,fileMimeType:m,fileName:c.href,fileUri:c.href,parsedFileUri:c.href,createTime:new Date().toISOString(),fileSource:"SELF_UPLOAD_FILE_SOURCE",thirdPartyFileId:"",thirdPartyFileMimeType:""}})},children:ea(l,u)}):(0,s.jsx)("a",{...c,target:"_blank",rel:"noopener noreferrer",children:ea(l,u)})}}),[g,u]);return(0,s.jsx)(q.Provider,{value:{isNested:!!i,sender:t},children:(0,s.jsx)(B,{remarkPlugins:[G,[A.Z,{singleTilde:!1}],[Z.Z,{singleDollarTextMath:!1}],K],rehypePlugins:[[F.Z,{throwOnError:!1,strict:!1}],V],components:{...H,...j,...C},children:h})})}),J={...H,p(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,l.cn)("break-words",t),...a,children:X(r)})},h1(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h1",{dir:"auto",className:(0,l.cn)("break-word",t),...a,children:X(r)})},h2(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h2",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(r)})},h3(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h3",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(r)})},h4(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h4",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(r)})},h5(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h5",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(r)})},h6(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("h6",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(r)})},li(e){let{className:t,children:r,node:n,...a}=e;return(0,s.jsx)("li",{className:(0,l.cn)("break-words",t),...a,children:X(r)})},pre(e){let{children:t,node:r,...n}=e;return(0,s.jsx)("div",{className:"not-prose",children:X(t)})}},ee=e=>{let{sender:t,webSearchResults:r,xposts:l,hideCitations:i,children:o}=e,d=o.trim().startsWith("```"),u=(0,b.N)(o,20),x=function(e,t){let r=n.useRef(void 0),s=n.useRef(!1),l=e;if(t&&s.current){let t=a(e);t>-1&&(l=e.substring(0,t))}return n.useEffect(()=>{t&&(s.current=!0,r.current&&clearTimeout(r.current),r.current=window.setTimeout(()=>{s.current=!1},2e3))},[t,l]),l}(o,!0),h="human"===t?o:d?u:x,p=(0,n.useMemo)(()=>{let e=c().mapValues(c().keyBy(r,"url"),e=>(0,s.jsx)(m.j2,{webSearchResult:e})),t=c().mapValues(c().keyBy(l,e=>"https://x.com/".concat(e.username,"/status/").concat(e.postId)),e=>(0,s.jsx)(m.If,{xPost:e}));return{...e,...t}},[r,l]),f=(0,n.useMemo)(()=>({a(e){let{className:t,children:r,node:n,...a}=e,l=a.href&&p[a.href];return!i&&l?l:(0,s.jsx)("a",{...a,target:"_blank",rel:"noopener noreferrer",children:r})}}),[p]);return(0,s.jsx)(B,{remarkPlugins:[G,[A.Z,{singleTilde:!1}],[Z.Z,{singleDollarTextMath:!1}],K],rehypePlugins:[[F.Z,{throwOnError:!1,strict:!1}],V],components:{...J,...f},children:h})};ee.displayName="StreamingChatMarkdownChunk";let et=n.memo(ee),er=e=>{let{sender:t,webSearchResults:r,xposts:a,children:l,isNested:i,hideCitations:o}=e,c=(0,n.useMemo)(()=>(function(e){let{codeBlocks:t,processedContent:r}=v(e),{latexBlockExpressions:s,processedContent:n}=w(r);return n.split(/\n\n+/).map(e=>y({content:e,latexBlockExpressions:s,codeBlocks:t}))})(l),[l]),d=(0,n.useMemo)(()=>c.slice(0,-1).join("\n\n"),[c]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q,{sender:t,webSearchResults:r,xposts:a,children:d,hideCitations:o,isNested:!!i}),c.length>0&&(0,s.jsx)(q.Provider,{value:{isNested:!!i,sender:t},children:(0,s.jsx)(et,{sender:t,webSearchResults:r,xposts:a,hideCitations:o,children:c[c.length-1]})})]})};er.displayName="StreamingChatMarkdown";let es=n.memo(er),en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length||"string"!=typeof e)return e;let r=t.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),n=RegExp("(".concat(r,")"),"gi"),a=e.split(n);return 1===a.length?e:a.map((e,t)=>t%2==1?(0,s.jsx)("span",{className:"bg-orange-200 text-primary dark:bg-orange-600 rounded-sm px-0.5 font-semibold",children:e},t):e)},ea=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&0!==t.length?n.Children.map(e,e=>"string"==typeof e?en(e,t):e):e}},13846:function(e,t,r){r.d(t,{Y:function(){return u}});var s=r(584),n=r(35724),a=r(22852),l=r(50240),i=r(66070),o=r(46450),c=r(82430);function d(e){return e.endsWith(".pdf")}function u(e){var t,r;let{runCodeResult:u,isRunningCode:m,className:x}=e,{t:h}=(0,i.$G)("base"),p=h("code-execution.run-error","Unable to run code at the moment"),f=(0,l.useMemo)(()=>{var e;return(null!==(e=null==u?void 0:u.stdout)&&void 0!==e?e:"").toLowerCase().includes("latexmk")},[null==u?void 0:u.stdout]),g=(0,l.useMemo)(()=>{var e;return Object.keys(null!==(e=null==u?void 0:u.outputFiles)&&void 0!==e?e:{}).some(e=>d(e))},[null==u?void 0:u.outputFiles]),b=f&&g,v=(0,l.useCallback)(()=>{var e,t;let r=f?function(e,t){let r=e.split("\n"),s=-1,n=-1;for(let e=0;e<r.length;e++)r[e].startsWith("!")&&-1===s&&(s=e),r[e].startsWith("l.")&&(n=e);return -1!==s&&-1!==n&&n>=s?r.slice(s,n+1).filter(e=>{let t=e.toLowerCase();return!t.includes("/usr/share/")&&!t.includes("pdftex")&&!t.includes("pdflatex")&&!t.includes("latexmk")&&!t.includes("latex2e")}).join("\n"):t}(null!==(e=null==u?void 0:u.stdout)&&void 0!==e?e:"",null!==(t=null==u?void 0:u.stderr)&&void 0!==t?t:""):null==u?void 0:u.stderr,s=h("code-execution.fix-error-prompt-no-elaborating","Fix the runtime error without elaborating: ")+"\n"+r;(0,c.m)(s)},[u,f]),[j,w]=(0,l.useState)();return(0,s.jsxs)("div",{className:"".concat((u||m)&&x," flex flex-col gap-2 h-full"),children:[((null==u?void 0:u.stdout)&&!f||m)&&(0,s.jsx)("div",{className:"text-sm rounded-xl !font-mono bg-orange-300/10 text-orange-400 dark:bg-orange-300/10 dark:text-orange-300 p-[16px] py-[8px] min-h-[44px] flex flex-col justify-center",children:m?(0,s.jsx)(n.S,{state:"RUNNING"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("pre",{className:"whitespace-pre-wrap",children:null==u?void 0:u.stdout}),(0,s.jsx)("div",{className:"flex flex-row flex-wrap gap-4",children:Object.entries(null!==(t=null==u?void 0:u.outputFiles)&&void 0!==t?t:{}).map((e,t)=>{let[r,n]=e;return r.endsWith(".png")||r.endsWith(".jpg")||r.endsWith(".jpeg")||r.endsWith(".gif")||r.endsWith(".webp")?(0,s.jsx)("div",{className:"w-fit",children:(0,s.jsx)("img",{className:"max-w-full h-auto cursor-pointer",src:n,alt:r,onClick:()=>w(t)},r)}):null})})]})}),b&&!m&&(0,s.jsx)("div",{className:"h-full w-full rounded-xl ",children:Object.entries(null!==(r=null==u?void 0:u.outputFiles)&&void 0!==r?r:{}).map(e=>{let[t,r]=e;return d(t)?(0,s.jsx)("iframe",{allowFullScreen:!0,src:r,className:"h-full w-full rounded-xl min-h-[800px] max-h-svh"},t):null})}),((null==u?void 0:u.stderr)&&!b||u&&!u.success)&&(0,s.jsxs)("div",{className:"text-sm rounded-xl !font-mono bg-red-300/10 dark:bg-red-300/10 p-[16px] py-[8px] min-h-[44px]",children:[(null==u?void 0:u.stderr)?(0,s.jsx)(a.zx,{variant:"filledSecondary",size:"sm",onClick:v,className:"flex mt-1 mb-2 -ms-1 flex-shrink",children:h("code-execution.fix-error","Ask Grok to fix")}):null,(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-red-600 dark:text-red-300",children:(null==u?void 0:u.stderr)||p})]}),(null==u?void 0:u.outputFiles)&&Object.keys(u.outputFiles).length>0&&(0,s.jsx)(o.O,{response:{message:""},imgs:Object.values(u.outputFiles).map(e=>({url:e,key:e})),clickedIndex:null!=j?j:null,clearClickedIndex:()=>{w(null)}})]})}},31860:function(e,t,r){r.d(t,{u:function(){return n}});var s=r(61276);let n=e=>{let t=e;-1===t.indexOf("</xaiArtifact>")?t+="</xaiArtifact>":t=t.substring(0,t.indexOf("</xaiArtifact>")+14);let r=t.indexOf(">")+1,n=t.lastIndexOf("<"),a=t.substring(0,r)+t.substring(n),l=t.substring(r,n),i=new s.Fq({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"xai_"}),o="",c="",d="",u="",m="";try{let e=i.parse(a).xaiArtifact;o=null==e?void 0:e.xai_artifact_id,c=null==e?void 0:e.xai_artifact_version_id,d=null==e?void 0:e.xai_title,u=null==e?void 0:e.xai_language,m=null==e?void 0:e.xai_contentType}catch(e){}return{title:d,id:o,versionId:c,language:u,contentType:m,content:l.trim()}}},82430:function(e,t,r){r.d(t,{m:function(){return n}});var s=r(19922);function n(e){let t=s.gK.getState();t.conversationId&&t.sendResponse({message:e,parentResponseId:t.lastMessageId,conversationId:t.conversationId,fileAttachmentIds:[],webpageUrls:[],setOpimisticUserResponse:!0,setUserResponse:!0}).catch(()=>{})}},46450:function(e,t,r){r.d(t,{O:function(){return j}});var s=r(584),n=r(22852),a=r(12451),l=r(74275),i=r(71110),o=r(24638),c=r(19005),d=r(7263),u=r(32088),m=r(23152),x=r(90517),h=r(46648),p=r(98180),f=r(94804),g=r(65903),b=r(50240),v=r(66070);let j=e=>{var t;let{clickedIndex:r,clearClickedIndex:j,response:w,imgs:y}=e,{t:N}=(0,v.$G)("chat"),k=(0,b.useRef)(void 0),[C,S]=(0,b.useState)(),I=void 0!==C&&null!==(t=y[C])&&void 0!==t?t:null,{client:R}=(0,u.useStatsigClient)();(0,b.useEffect)(()=>{null!==r&&(j(),S(r),setTimeout(()=>{var e;null===(e=k.current)||void 0===e||e.scrollTo(r,!0)}))},[r]);let z=e=>{(0,i.G)(e.url,e.key.split("/").pop()).catch((0,o.n4)("image-viewer:handleDownloadImage"))},E=(0,b.useCallback)(()=>{var e;if(!y)return;let t=((C||0)-1)%y.length;return null===(e=k.current)||void 0===e||e.scrollTo(t),t},[y,C]),P=(0,b.useCallback)(e=>{var t;null===(t=k.current)||void 0===t||t.scrollTo(e)},[k]),_=(0,b.useCallback)(()=>{var e;if(!y)return;let t=((C||0)+1)%y.length;return null===(e=k.current)||void 0===e||e.scrollTo(t),t},[y,C]);return(0,b.useEffect)(()=>{if(null==C)return;let e=e=>{switch(e.key){case"ArrowLeft":E();break;case"ArrowRight":_();break;case"Escape":S(void 0)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[E,_]),(0,s.jsx)(l.Vq,{open:!!I,onOpenChange:e=>e?void 0:S(void 0),children:(0,s.jsxs)(l.cZ,{className:(0,d.cn)("bg-transparent h-full w-full","!scale-100 !-translate-x-1/2 !-translate-y-1/2"),children:[(0,s.jsx)(l.$N,{hidden:!0}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full",onClick:()=>S(void 0),children:y&&y.length>1?(0,s.jsxs)(a.lr,{setApi:e=>{null==e||e.on("select",e=>{S(e.selectedScrollSnap())}),k.current=e},opts:{duration:20,loop:!0},children:[(0,s.jsx)(a.KI,{children:y.map(e=>{let{key:t,url:r,isModerated:n}=e;return(0,s.jsx)(a.d$,{children:(0,s.jsx)("div",{className:"flex flex-row justify-center md:w-lvw",children:n?(0,s.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center h-[768px]",children:[(0,s.jsx)(m.Z,{size:60,className:"opacity-20"}),N("Image not available","Image not available")]}):(0,s.jsx)("img",{alt:w.message||"Image generated by Grok",src:r,className:"w-[94vw] lg:w-fit max-h-[calc(100vh-10rem)] max-w-5xl xl:max-w-6xl shadow cursor-pointer rounded-xl"})})},t)})}),(0,s.jsx)("div",{className:"mx-auto w-max mt-1.5 dark",children:y.map((e,t)=>(0,s.jsx)(a.HE,{onClick:e=>{e.stopPropagation(),P(t)},className:(0,d.cn)("border border-secondary h-3 w-3 mx-1 rounded-full",{"bg-primary border-primary":t===C})},t))})]}):(0,s.jsx)("img",{alt:w.message||"Image generated by Grok",src:(null==I?void 0:I.url)||"",className:"w-[94vw] lg:w-fit max-h-[calc(100vh-10rem)] max-w-5xl xl:max-w-6xl shadow cursor-pointer rounded-xl"})}),(0,s.jsx)("div",{className:"absolute flex-col justify-between hidden lg:flex end-3 inset-y-3 dark",children:(0,s.jsx)(n.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),S(void 0)},children:(0,s.jsx)(x.Z,{className:"size-5"})})}),y&&y.length>1&&(0,s.jsx)("div",{className:"absolute hidden lg:block start-3 top-1/2 dark",children:(0,s.jsx)(n.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),E()},children:(0,s.jsx)(h.Z,{className:"size-5"})})}),y&&y.length>1&&(0,s.jsx)("div",{className:"absolute hidden lg:block end-3 top-1/2 dark",children:(0,s.jsx)(n.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),_()},children:(0,s.jsx)(p.Z,{className:"size-5"})})}),(0,s.jsx)("div",{className:"absolute flex justify-center bottom-3 inset-x-3",children:(0,s.jsxs)("div",{className:"bg-popover p-1.5 rounded-xl flex flex-row gap-1.5 items-center shadow-xl",children:[(0,s.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),(null==I?void 0:I.url)&&(z(I),R.logEvent("save_image",I.url,{responseId:w.responseId||"",conversationId:w.conversationId||"",location:"image-viewer"}))},children:[(0,s.jsx)(f.Z,{className:"w-4"}),N("download image","Save")]}),(0,s.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),(null==I?void 0:I.url)&&((0,c.G)(I.url,N("Copied image link to clipboard!","Copied image link to clipboard!")),R.logEvent("copy_image",null==I?void 0:I.url,{responseId:w.responseId||"",conversationId:w.conversationId||"",location:"image-viewer"}))},children:[(0,s.jsx)(g.Z,{className:"w-4"}),N("copy url for image","Copy link")]})]})})]})})}},12137:function(e,t,r){r.d(t,{sZ:function(){return y},Fg:function(){return b},j2:function(){return f},jW:function(){return w},If:function(){return v}});var s=r(584),n=r(19922),a=r(6623),l=r(7263),i=r(65903),o=r(9354),c=r(50240),d=r(66070),u=r(98685),m=r(89502);let x=m.fC,h=m.xz,p=c.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:a=4,...i}=e;return(0,s.jsx)(m.VY,{ref:t,align:n,sideOffset:a,className:(0,l.cn)("z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})});function f(e){let{webSearchResult:t}=e;return(0,s.jsxs)(x,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(g,{webSearchResult:t,className:"hover:opacity-100 transition-opacity"})}),(0,s.jsx)(p,{side:"top",className:"max-w-sm text-base bg-popover text-primary rounded-2xl not-prose p-0",children:(0,s.jsx)(b,{webSearchResult:t,className:"hover:bg-transparent"})})]})}p.displayName=m.VY.displayName;let g=c.forwardRef((e,t)=>{let{webSearchResult:r,isClickable:n=!0,className:a,...o}=e,[d,u]=(0,c.useState)(!1),m=(0,l.cn)("inline-flex align-text-bottom items-center justify-center select-none","my-0 rounded-md","bg-important border border-card-border",n?"opacity-75 hover:opacity-100":"opacity-100 ml-1.5",a),x=d?(0,s.jsx)(i.Z,{className:"size-3 m-[3px]"}):(0,s.jsx)("img",{className:"size-[18px] m-0 rounded-md",src:r.favicon,alt:"",onError:()=>u(!0)});return n?(0,s.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"focus:outline-none focus-visible:outline-none focus-visible:bg:input ml-1.5 rounded-md",...o,ref:t,children:(0,s.jsx)("div",{className:m,children:x})}):(0,s.jsx)("div",{className:m,...o,ref:t,children:x})});function b(e){let{webSearchResult:t,className:r}=e;return(0,s.jsx)("a",{href:t.url,className:(0,l.cn)("block text-base hover:bg-card-hover rounded-xl focus:outline-none focus-within:outline-none focus-visible:ring-1 focus-visible:ring-ring",r),target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 px-4 py-3 max-w-full",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:t.title}),(0,s.jsx)("p",{className:"text-sm line-clamp-3",children:t.preview}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g,{webSearchResult:t,className:"ml-0",isClickable:!1}),(0,s.jsx)("span",{className:"text-xs text-secondary truncate flex-1",children:(0,a.b)(t.url)})]})]})})}function v(e){let{xPost:t}=e;return(0,s.jsxs)(x,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(j,{xPost:t})}),(0,s.jsx)(p,{side:"top",className:"max-w-sm text-base bg-popover text-primary rounded-2xl not-prose p-0",children:(0,s.jsx)(w,{xPost:t,className:"hover:bg-transparent"})})]})}let j=c.forwardRef((e,t)=>{let{xPost:r,isClickable:n=!0,className:a,...i}=e,o=(0,l.cn)("inline-flex align-text-bottom select-none","my-0 rounded-full","bg-important border border-card-border",n?"opacity-75 hover:opacity-100":"opacity-100 ml-1.5",a),c=(0,s.jsx)("img",{className:"size-[18px] m-0 rounded-full",src:r.profileImageUrl,alt:""});return n?(0,s.jsx)("a",{href:"https://x.com/".concat(r.username,"/status/").concat(r.postId),target:"_blank",rel:"noopener noreferrer",ref:t,className:"focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ring-offset-1 ml-1.5 rounded-full",...i,children:(0,s.jsx)("div",{className:o,children:c})}):(0,s.jsx)("div",{className:o,...i,ref:t,children:c})});function w(e){let{xPost:t,className:r}=e,n=(0,c.useMemo)(()=>new Date(t.createTime),[t.createTime]),a="https://x.com/".concat(t.username,"/status/").concat(t.postId);return(0,s.jsxs)("a",{href:a,className:(0,l.cn)("block px-4 py-3 hover:bg-card-hover rounded-xl group w-full",r),target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full min-w-0",children:[(0,s.jsx)("img",{className:(0,l.cn)("inline-flex align-text-bottom size-10 rounded-full","bg-important border border-card-border"),src:t.profileImageUrl,alt:"".concat(t.name,"'s profile")}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center min-w-0",children:[(0,s.jsx)("div",{className:"flex gap-1 items-center flex-1 min-w-0",children:(0,s.jsx)("span",{className:"text-sm text-primary truncate font-medium min-w-0",children:t.name})}),(0,s.jsx)(u.G,{className:"text-sm whitespace-nowrap shrink-0",date:n,noTooltip:!0})]}),(0,s.jsxs)("span",{className:"text-sm text-secondary truncate",children:["@",t.username]})]})]}),(0,s.jsx)("p",{className:"text-primary text-sm mt-2 line-clamp-3",children:t.text})]})}function y(e){let{webSearchResults:t,xPosts:r,browsedUrls:a}=e,{t:i}=(0,d.$G)("base"),u=(0,n.gK)(o.Z("sidePanelContent")),m=(0,n.gK)(o.Z("setSidePanelContent")),x=(0,c.useMemo)(()=>{if((null==u?void 0:u.type)!=="xPosts")return!1;let e=u.data.map(e=>e.citationId);return r.every((t,r)=>t.citationId===e[r])&&r.length===e.length},[u,r]),h=(0,c.useCallback)(()=>{if(x){m(void 0);return}m({type:"xPosts",data:r})},[x,r]),p=(0,c.useMemo)(()=>{if((null==u?void 0:u.type)!=="webSearchResults")return!1;let e=u.data.webSearchResults.map(e=>e.url);return t.every((t,r)=>t.url===e[r])&&t.length===e.length},[u,t]),f=(0,c.useCallback)(()=>{if(p){m(void 0);return}m({type:"webSearchResults",data:{webSearchResults:t,browsedUrls:a}})},[p,t,a]);return 0!==t.length||0!==r.length||(null==a?void 0:a.length)?(0,s.jsxs)("div",{className:"flex -ml-1 text-sm gap-2 mb-3",children:[r.length>0&&(0,s.jsxs)("div",{className:(0,l.cn)("flex flex-row items-center pr-4 py-1","rounded-full cursor-pointer","bg-foreground border border-card-border","hover:bg-card-hover hover:border-card-border-focus"),onClick:h,children:[r.slice(0,3).map((e,t)=>(0,s.jsx)("div",{style:{zIndex:3-t},children:(0,s.jsx)(j,{xPost:e,isClickable:!1,className:(0,l.cn)("flex bg-popover border border-background","z-".concat(3-t),t>0&&"-ml-2")})},t)),(0,s.jsx)("div",{className:"truncate ml-2",children:i("xPostsLabel",{count:r.length,defaultValue_one:"{{count}} \uD835\uDD4F post",defaultValue_other:"{{count}} \uD835\uDD4F posts"})})]}),t.length>0&&(0,s.jsxs)("div",{className:(0,l.cn)("flex flex-row items-center pr-4 py-1","rounded-full cursor-pointer bg-foreground","bg-foreground border border-card-border","hover:bg-card-hover hover:border-card-border-focus"),onClick:f,children:[t.slice(0,3).map((e,t)=>(0,s.jsx)("div",{style:{zIndex:3-t},children:(0,s.jsx)(g,{webSearchResult:e,isClickable:!1,className:(0,l.cn)("flex bg-popover overflow-hidden border border-background","z-".concat(3-t),t>0&&"-ml-2")})},t)),(0,s.jsx)("div",{className:"truncate ml-2",children:i("webPages",{defaultValue_one:"one web page",defaultValue_other:"{{count}} web pages",count:t.length+((null==a?void 0:a.length)||0)})})]})]}):null}},98685:function(e,t,r){r.d(t,{G:function(){return d}});var s=r(584),n=r(57791),a=r(7263),l=r(65295),i=r(94649),o=r(50074),c=r(88155);function d(e){let{date:t,className:r,noTooltip:d=!1}=e,{compact:u,full:m}=function(e){let t=new Date,r=(0,l.X)(t,e),s=(0,i.A)(t,e),n=(0,o.o)(t,e);return{compact:r<1?"<1m":s<1?"".concat(r,"m"):s<24?"".concat(s,"h"):n>=1?(0,c.WU)(e,"MMM d, yyyy"):(0,c.WU)(e,"MMM d"),full:(0,c.WU)(e,"h:mm a \xb7 MMM d, yyyy")}}(t);return d?(0,s.jsx)("span",{className:(0,a.cn)("text-secondary",r),children:u}):(0,s.jsxs)(n.u,{children:[(0,s.jsx)(n.aJ,{asChild:!0,children:(0,s.jsx)("span",{className:(0,a.cn)("hover:underline cursor-default text-secondary",r),children:u})}),(0,s.jsx)(n._v,{className:"bg-popover text-primary",children:m})]})}},35724:function(e,t,r){r.d(t,{S:function(){return c}});var s=r(584),n=r(2711),a=r(90496),l=r(55608),i=r(66070);let o={SEARCHING:(0,s.jsx)(i.cC,{i18nKey:"loading.searching.label",defaults:"Searching",ns:"loading"}),RUNNING:(0,s.jsx)(i.cC,{i18nKey:"loading.running.label",defaults:"Running",ns:"loading"}),[n.qw6.ProgressReportCategoryAttachmentsPreprocessing]:(0,s.jsx)(i.cC,{i18nKey:"loading.reading-attachments.label",defaults:"Reading attachments",ns:"loading"}),[n.qw6.ProgressReportCategoryHistoryAttachmentsPreprocessing]:(0,s.jsx)(i.cC,{i18nKey:"loading.rereading-past-attachments.label",defaults:"Re-reading past attachments",ns:"loading"}),[n.qw6.ProgressReportCategoryWebpageAttachmentsPreprocessing]:(0,s.jsx)(i.cC,{i18nKey:"loading.reading-webpages.label",defaults:"Reading webpages",ns:"loading"}),[n.qw6.ProgressReportCategoryHistoryWebpageAttachmentsPreprocessing]:(0,s.jsx)(i.cC,{i18nKey:"loading.rereading-past-webpages.label",defaults:"Re-reading past webpages",ns:"loading"})};function c(e){let{state:t}=e;return(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsxs)("svg",{className:"text-secondary",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("rect",{x:"5",y:"16",width:"2",height:"2",rx:"2",fill:"currentColor",children:[(0,s.jsx)("animate",{attributeName:"x",dur:"1360ms",values:"6;10;10;16;16",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"y",dur:"1360ms",values:"16;5;5;16;16",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"height",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"width",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"})]}),(0,s.jsxs)("rect",{x:"11",y:"6",width:"2",height:"2",rx:"2",fill:"currentColor",children:[(0,s.jsx)("animate",{attributeName:"x",dur:"1360ms",values:"11;16;16;6;6",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"y",dur:"1360ms",values:"7;15;15;16;16",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"height",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"width",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"})]}),(0,s.jsxs)("rect",{x:"17",y:"16",width:"2",height:"2",rx:"2",fill:"currentColor",children:[(0,s.jsx)("animate",{attributeName:"x",dur:"1360ms",values:"16;4;4;11;11",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1; 0 0.8 0.8 1; 0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"y",dur:"1360ms",values:"16;15;15;7;7",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1; 0 0.8 0.8 1; 0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"height",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,s.jsx)("animate",{attributeName:"width",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"})]})]}),(0,s.jsx)(a.M,{children:t&&t!==n.qw6.ProgressReportCategoryUnknown&&o[t]&&(0,s.jsx)(l.E.div,{initial:{width:0},animate:{width:"auto"},exit:{width:0},transition:{duration:.15},className:"overflow-hidden",children:(0,s.jsxs)("p",{className:"my-0 text-secondary text-base inline-block whitespace-nowrap",children:[o[t],"..."]})})})]})}},12451:function(e,t,r){r.d(t,{HE:function(){return p},KI:function(){return x},d$:function(){return h},lr:function(){return m}});var s=r(584),n=r(22852),a=r(7263),l=r(75075),i=r(53226),o=r(50240),c=r(66070);let d=o.createContext(null);function u(){let e=o.useContext(d);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let m=o.forwardRef((e,t)=>{let{orientation:r="horizontal",opts:n,setApi:l,plugins:c,className:u,children:m,...x}=e,[h,p]=(0,i.Z)({...n,axis:"horizontal"===r?"x":"y"},c),[f,g]=o.useState(!1),[b,v]=o.useState(!1),j=o.useCallback(e=>{e&&(g(e.canScrollPrev()),v(e.canScrollNext()))},[]),w=o.useCallback(()=>{null==p||p.scrollPrev()},[p]),y=o.useCallback(()=>{null==p||p.scrollNext()},[p]),N=o.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),w()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[w,y]);return o.useEffect(()=>{p&&l&&l(p)},[p,l]),o.useEffect(()=>{if(p)return j(p),p.on("reInit",j),p.on("select",j),()=>{null==p||p.off("select",j)}},[p,j]),(0,s.jsx)(d.Provider,{value:{carouselRef:h,api:p,opts:n,orientation:r||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:y,canScrollPrev:f,canScrollNext:b},children:(0,s.jsx)("div",{ref:t,onKeyDownCapture:N,className:(0,a.cn)("relative",u),role:"region","aria-roledescription":"carousel",...x,children:m})})});m.displayName="Carousel";let x=o.forwardRef((e,t)=>{let{className:r,...n}=e,{carouselRef:l,orientation:i}=u();return(0,s.jsx)("div",{ref:l,className:"overflow-hidden max-w-[100vw]",children:(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex max-w-100","horizontal"===i?"-ml-4":"-mt-4 flex-col",r),...n})})});x.displayName="CarouselContent";let h=o.forwardRef((e,t)=>{let{className:r,...n}=e,{orientation:l}=u();return(0,s.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,a.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",r),...n})});h.displayName="CarouselItem",o.forwardRef((e,t)=>{let{className:r,variant:i="outline",size:o="icon",...d}=e,{orientation:m,scrollPrev:x,canScrollPrev:h}=u(),{t:p}=(0,c.$G)("base");return(0,s.jsxs)(n.zx,{ref:t,variant:i,size:o,className:(0,a.cn)("absolute  h-8 w-8 rounded-full","horizontal"===m?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",r),disabled:!h,onClick:x,...d,children:[(0,s.jsx)(l.Y4O,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:p("Previous slide","Previous slide")})]})}).displayName="CarouselPrevious",o.forwardRef((e,t)=>{let{className:r,variant:i="outline",size:o="icon",...d}=e,{orientation:m,scrollNext:x,canScrollNext:h}=u(),{t:p}=(0,c.$G)("base");return(0,s.jsxs)(n.zx,{ref:t,variant:i,size:o,className:(0,a.cn)("absolute h-8 w-8 rounded-full","horizontal"===m?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",r),disabled:!h,onClick:x,...d,children:[(0,s.jsx)(l.LZ3,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:p("Next slide","Next slide")})]})}).displayName="CarouselNext";let p=e=>{let{children:t,...r}=e;return(0,s.jsx)("button",{type:"button",tabIndex:-1,...r,children:t})}},84377:function(e,t,r){r.d(t,{y:function(){return m}});var s=r(79972),n=r(48454);let a=(0,r(13573).U)(e=>({codeExecutionResultsByCodeSource:{},getCodeExecutionResult:e=>a.getState().codeExecutionResultsByCodeSource[e],setCodeExecutionResult:(t,r)=>{e(e=>({codeExecutionResultsByCodeSource:{...e.codeExecutionResultsByCodeSource,[t]:r}}))}}));var l=r(50240),i=r(95397);RegExp("\\bfopen\\s*\\(\\s*[^)]+\\)|\\bopen\\s*\\(\\s*[^)]+\\)|\\bstd::ifstream\\s*\\(\\s*[^)]+\\)|\\bifstream\\s*\\(\\s*[^)]+\\)|\\bstd::ofstream\\s*\\(\\s*[^)]+\\)|\\bofstream\\s*\\(\\s*[^)]+\\)|\\bstd::fstream\\s*\\(\\s*[^)]+\\)|\\bfstream\\s*\\(\\s*[^)]+\\)|\\w+\\s*\\.\\s*open\\s*\\(\\s*[^)]+\\)"),RegExp("\\bgetchar\\s*\\(\\s*\\)|\\bfgetc\\s*\\(\\s*stdin\\s*\\)|\\bgetc\\s*\\(\\s*stdin\\s*\\)|\\bfgets\\s*\\(\\s*[^,]+,\\s*[^,]+,\\s*stdin\\s*\\)|\\bscanf\\s*\\(|\\bfscanf\\s*\\(\\s*stdin\\s*,|\\bfread\\s*\\(\\s*[^,]+,\\s*[^,]+,\\s*[^,]+,\\s*stdin\\s*\\)|\\bstd::cin\\s*>>|\\bcin\\s*>>|\\bstd::cin\\s*\\.\\s*get\\s*\\(|\\bcin\\s*\\.\\s*get\\s*\\(|\\bstd::cin\\s*\\.\\s*getline\\s*\\(|\\bcin\\s*\\.\\s*getline\\s*\\(|\\bstd::getline\\s*\\(\\s*std::cin\\s*,|\\bgetline\\s*\\(\\s*cin\\s*,|\\bstd::cin\\s*\\.\\s*read\\s*\\(|\\bcin\\s*\\.\\s*read\\s*\\(");let o=["latex","x","text/latex","text/x-latex","text/x-tex"],c=["cpp","c++","c","x-c++src","text/x-c++src","text/cpp","text/c++","text/c","text/x-c","text/x-c++"],d=["javascript","typescript","bash","python","x-python","text/javascript","text/typescript","text/bash","text/x-python","text/python",...c],u={};function m(e,t){let{user:r}=(0,s.kP)(),{getCodeExecutionResult:m,setCodeExecutionResult:x}=a(),h=(0,i.g)(),p=h.ENABLE_CODE_EXECUTION&&!!r,[f,g]=(0,l.useState)(!1),b=(0,l.useRef)(null),v=(0,l.useRef)(null),j=m(e);return[(0,l.useCallback)(()=>{var r,s;e&&t&&p&&!j&&b.current!==e&&(null===(r=v.current)||void 0===r||r.abort(),v.current=new AbortController,g(!0),b.current=e,n.xU.chatRunCode({body:{code:e,language:t}},{signal:null===(s=v.current)||void 0===s?void 0:s.signal}).then(t=>{x(e,{stdout:t.stdout||"",stderr:t.stderr||"",outputFiles:t.outputFiles||u,timestamp:Date.now(),success:!!t.success}),g(!1)}).catch(()=>{g(!1)}).finally(()=>{v.current=null,b.current=null}))},[j,p,e,t]),j,f,(0,l.useCallback)(()=>p&&(c.includes(t.toLowerCase())?!!e.includes("int main("):!!(h.ENABLE_LATEX_PREVIEW&&o.includes(t.toLowerCase()))||d.includes(t.toLowerCase())),[p,t,e,h])]}},2235:function(e,t,r){r.d(t,{N:function(){return n}});var s=r(50240);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[n,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let r=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(r)}},[e,t,...r]),n}},71110:function(e,t,r){r.d(t,{G:function(){return s}});async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"grok-image.png";if(e)return fetch(e,{credentials:"include"}).then(e=>e.blob()).then(e=>{let r=window.URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)})}},19005:function(e,t,r){r.d(t,{G:function(){return n}});var s=r(99406);function n(e,t){navigator.clipboard.writeText(e).then(()=>s.Am.success(t)).catch(e=>s.Am.error(e.message))}}}]);