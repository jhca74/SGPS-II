# AI/registry.py - Registo de mÃ³dulos finalizados em SQLite para IA e Scraperimport sqlite3import osfrom datetime import datetimeDB_PATH = "config/modules_registry.db"def criar_tabela_se_necessario():    conn = sqlite3.connect(DB_PATH)    cursor = conn.cursor()    cursor.execute("""    CREATE TABLE IF NOT EXISTS modulos (        id INTEGER PRIMARY KEY AUTOINCREMENT,        nome TEXT UNIQUE,        versao TEXT,        status TEXT,        ia_ativado INTEGER,        scraping_ativado INTEGER,        data_registo TIMESTAMP DEFAULT CURRENT_TIMESTAMP    )    """)    conn.commit()    conn.close()def anunciar_modulo(nome, versao, status="ativo", ia_ativado=True, scraping_ativado=True):    criar_tabela_se_necessario()    conn = sqlite3.connect(DB_PATH)    cursor = conn.cursor()    cursor.execute("""    INSERT OR REPLACE INTO modulos (nome, versao, status, ia_ativado, scraping_ativado, data_registo)    VALUES (?, ?, ?, ?, ?, ?)    """, (nome, versao, status, int(ia_ativado), int(scraping_ativado), datetime.now()))    conn.commit()    conn.close()    print(f"[MODULO REGISTADO] {nome} v{versao} registado com sucesso.")