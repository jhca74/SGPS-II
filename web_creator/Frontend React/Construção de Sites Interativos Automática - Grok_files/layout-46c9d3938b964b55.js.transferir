!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="db2950a5-aa5a-470d-8291-34092397bb3c",e._sentryDebugIdIdentifier="sentry-dbid-db2950a5-aa5a-470d-8291-34092397bb3c")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{52215:function(e,t,s){Promise.resolve().then(s.t.bind(s,29364,23)),Promise.resolve().then(s.bind(s,87579)),Promise.resolve().then(s.bind(s,61500)),Promise.resolve().then(s.bind(s,65032)),Promise.resolve().then(s.bind(s,47873)),Promise.resolve().then(s.bind(s,65242)),Promise.resolve().then(s.bind(s,91352)),Promise.resolve().then(s.bind(s,53710)),Promise.resolve().then(s.bind(s,33371)),Promise.resolve().then(s.bind(s,18133)),Promise.resolve().then(s.bind(s,48937)),Promise.resolve().then(s.bind(s,55106)),Promise.resolve().then(s.bind(s,2557)),Promise.resolve().then(s.bind(s,14753)),Promise.resolve().then(s.bind(s,42295)),Promise.resolve().then(s.bind(s,10634)),Promise.resolve().then(s.bind(s,84601)),Promise.resolve().then(s.bind(s,48074)),Promise.resolve().then(s.bind(s,31166)),Promise.resolve().then(s.bind(s,56901)),Promise.resolve().then(s.bind(s,47170)),Promise.resolve().then(s.bind(s,57788)),Promise.resolve().then(s.bind(s,89050)),Promise.resolve().then(s.bind(s,59934)),Promise.resolve().then(s.bind(s,90161)),Promise.resolve().then(s.bind(s,81828)),Promise.resolve().then(s.t.bind(s,51287,23)),Promise.resolve().then(s.t.bind(s,12396,23)),Promise.resolve().then(s.t.bind(s,32844,23)),Promise.resolve().then(s.t.bind(s,90057,23)),Promise.resolve().then(s.t.bind(s,74572,23)),Promise.resolve().then(s.t.bind(s,68354,23)),Promise.resolve().then(s.bind(s,13730)),Promise.resolve().then(s.bind(s,55617)),Promise.resolve().then(s.bind(s,59226)),Promise.resolve().then(s.bind(s,70644))},87579:function(e,t,s){"use strict";s.d(t,{Loadout:function(){return e6}});var n=s(584);s(32791);var i=s(81827),r=s(22852),a=s(95397),l=s(7263),o=s(36547),c=s(72193),d=s(22838),u=s(90517),m=s(50240),f=s(32509),h=s(31257);function x(){let e=(0,a.g)(),t=(0,m.useMemo)(()=>{let t=v.safeParse(e.BANNER.value);if(t.success)return t.data},[e.BANNER.value]),[s,i]=(0,f.Z)("banner-".concat(null==t?void 0:t.sentAt),!1),h=(0,m.useMemo)(()=>{if(t)switch(t.type){case"log":return(0,n.jsx)(o.Z,{className:"mr-0.5 flex-shrink-0",size:18});case"warn":return(0,n.jsx)(c.Z,{className:"mr-0.5 flex-shrink-0",size:18});case"error":return(0,n.jsx)(d.Z,{className:"mr-0.5 flex-shrink-0",size:18})}},[null==t?void 0:t.type]),x=(0,m.useCallback)(()=>{i(!0)},[]);if(!s&&t&&t.message)return(0,n.jsxs)("div",{className:(0,l.cn)("absolute top-4 right-1/2 translate-x-1/2 z-50","flex flex-row items-center gap-3","bg-popover rounded-2xl ring-1 ring-inset ring-toggle-border","mx-4 py-3 pl-4 pr-3 min-w-[300px] max-w-full lg:max-w-3/5 w-fit"),children:[h,t.message,(0,n.jsx)(r.zx,{className:"ml-auto",variant:"ghostSecondary",size:"iconSm",onClick:x,children:(0,n.jsx)(u.Z,{size:18})})]})}let v=h.z.object({sentAt:h.z.string().catch(new Date().toISOString()),type:h.z.union([h.z.literal("log"),h.z.literal("warn"),h.z.literal("error")]).catch("error"),message:h.z.string().catch("")}).catch({sentAt:new Date().toISOString(),type:"log",message:""});var p=s(47873),g=s(79626),b=s(24638),w=s(66070),j=s(99406);let y=()=>{let{t:e}=(0,w.$G)("base"),[t,s]=(0,f.Z)(g.tJ),[n,i]=(0,f.Z)(g.Xv),{user:r,anonUser:a,refreshAnonUser:l}=(0,p.useSession)(),o=(0,m.useCallback)(async()=>{let e=await (0,g.be)();if(!e)throw Error("Failed to generate new anon user");let{anonUserId:t,privateKey:n}=e;s(t),i(n),await l(t,n)},[i,s,l]);return(0,m.useEffect)(()=>{let s=async()=>{t&&n?await l(t,n).catch(()=>o()):await o()};r||t&&n&&a||s().catch(t=>{j.Am.error(e("session-store-init.failed-to-initialize-session","Failed to initialize session")),(0,b.H)("session-store-init",t)})},[t,n]),null};var N=s(90488);let E=N.fC;N.xz;let S=N.h_,P=m.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(N.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-overlay data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...i,ref:t})});P.displayName=N.aV.displayName;let k=m.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsxs)(S,{children:[(0,n.jsx)(P,{}),(0,n.jsx)(N.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 ring-1 ring-inset ring-popover-border bg-popover p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-3xl",s),...i})]})});k.displayName=N.VY.displayName;let C=e=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};C.displayName="AlertDialogHeader";let I=e=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};I.displayName="AlertDialogFooter";let _=m.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(N.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",s),...i})});_.displayName=N.Dx.displayName;let R=m.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(N.dk,{ref:t,className:(0,l.cn)("text-sm text-secondary",s),...i})});R.displayName=N.dk.displayName;let z=m.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(N.aU,{ref:t,className:(0,l.cn)((0,r.dc)({variant:"primary"}),s),...i})});z.displayName=N.aU.displayName;let T=m.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(N.$j,{ref:t,className:(0,l.cn)((0,r.dc)({variant:"ghost"}),"mt-2 sm:mt-0",s),...i})});T.displayName=N.$j.displayName;var D=s(2799),O=s(89576);function A(e){let{startTimeMs:t,onComplete:s}=e,i=(0,m.useRef)(null),r=(0,m.useRef)(void 0);return(0,m.useEffect)(()=>{if(!i.current)return;let e=e=>{i.current&&(i.current.textContent=(e/1e3).toString())};e(t);let n=t,a=setInterval(()=>{if((n-=1e3)<0){clearInterval(a),null==s||s();return}e(n)},1e3);return r.current=()=>clearInterval(a),()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.call(r)}},[t,s]),(0,n.jsx)("span",{ref:i})}function L(){let{t:e}=(0,w.$G)("base"),t={title:e("session-reset.title","Are you still there?"),reset:e("session-reset.reset","Reset my chats"),confirm:e("session-reset.confirm","I'm still here")},[s,i]=function(e){let{timeToWarningMs:t,gracePeriodMs:s}=e,[n,i]=(0,m.useState)("active"),[r,a]=(0,m.useState)(!0),l=(0,m.useCallback)(()=>{i("active"),a(!0)},[]);return(0,m.useEffect)(()=>{let e,n;let o=()=>{r&&(clearTimeout(e),clearTimeout(n),l(),e=setTimeout(()=>{i("warning"),a(!1)},t))},c=["mousedown","mousemove","keypress","scroll","touchstart"];return r?(c.forEach(e=>{document.addEventListener(e,o,!0)}),e=setTimeout(()=>{i("warning"),a(!1)},t)):n=setTimeout(()=>{i("inactive")},s),()=>{r?(c.forEach(e=>{document.removeEventListener(e,o,!0)}),clearTimeout(e)):clearTimeout(n)}},[t,s,l,r]),[n,l]}({timeToWarningMs:3e5,gracePeriodMs:6e4}),a=(0,p.useSession)(),l=(0,m.useCallback)(()=>{a.clearUser(),window.location.reload(),localStorage.clear(),function(){for(let e of document.cookie.split(";")){let t=e.indexOf("="),s=t>-1?e.substr(0,t):e;document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}}()},[a]);(0,m.useEffect)(()=>{"inactive"===s&&l()},[s]);let o=(0,m.useCallback)(()=>{i()},[]),c=(0,O.w)();if("active"===s)return null;let d=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.cC,{ns:"base",i18nKey:"Your chats will be deleted after",defaults:"Your chats will be deleted after {{minutes}} minutes of inactivity. You have <timer/> seconds remaining.",components:{timer:(0,n.jsx)("span",{className:"text-sunset",children:(0,n.jsx)(A,{startTimeMs:6e4})})},values:{minutes:Math.ceil(5)}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)(w.cC,{ns:"base",i18nKey:"To permanently save",children:["To permanently save your chats you must ",(0,n.jsx)("b",{children:"sign in"}),"."]})]});return c?(0,n.jsx)(D.dy,{dismissible:!1,open:"warning"===s,children:(0,n.jsxs)(D.sc,{children:[(0,n.jsx)(D.OX,{children:(0,n.jsx)(D.iI,{children:t.title})}),(0,n.jsx)("div",{className:"p-4 text-primary",children:d()}),(0,n.jsxs)(D.ze,{children:[(0,n.jsx)(r.zx,{variant:"ghost",onClick:l,children:t.reset}),(0,n.jsx)(r.zx,{onClick:o,variant:"primary",children:t.confirm})]})]})}):(0,n.jsx)(E,{open:"warning"===s,children:(0,n.jsxs)(k,{children:[(0,n.jsxs)(C,{children:[(0,n.jsx)(_,{children:t.title}),(0,n.jsx)(R,{className:"text-primary",children:d()})]}),(0,n.jsxs)(I,{children:[(0,n.jsx)(T,{onClick:l,children:t.reset}),(0,n.jsx)(z,{onClick:o,children:t.confirm})]})]})})}var M=s(57791),U=s(38431),Z=s(51544),F=s(36194);let G=()=>{let[e,t]=(0,m.useState)(!0);return(0,m.useEffect)(()=>{let e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]),e};var W=s(65242),$=s(81858),V=s.n($),B=s(72930),H=s(76544),Y=s(1763),K=s(57750),q=s(77717),J=s(9354),X=s(9684),Q=s(60849),ee=s(59994),et=s(74275),es=s(55029),en=s(86248),ei=s(75816),er=s(32088),ea=s(13573),el=s(60542),eo=s(61500),ec=s(97631);let ed=(0,ea.U)()((0,el.tJ)(e=>({isDismissed:!1,setIsDismissed:t=>e({isDismissed:t})}),{name:"open-in-app-dialog"}));function eu(){let{t:e}=(0,w.$G)("base"),t=(0,a.g)(),{client:s}=(0,er.useStatsigClient)(),i=ed(J.Z("isDismissed")),o=ed(J.Z("setIsDismissed")),{os:c}=(0,en.i)(),{APP_STORE_URL:d,GOOGLE_PLAY_URL:u}=(0,eo.O)(),[f,h]=(0,m.useState)(!!t.SHOW_OPEN_IN_APP_DIALOG_EVERY_TIME||!i),x=(0,m.useCallback)(()=>{if(s.logEvent("clicked_open_in_app",c,{location:"open-in-app-dialog"}),!t.SHOW_OPEN_IN_APP_DIALOG_DOWNLOAD_DEFAULT){let e=document.createElement("iframe");e.src=window.location.href,e.style.display="none",e.height="0",e.width="0",document.body.appendChild(e)}setTimeout(function(){document.hasFocus()&&(s.logEvent("redirected_to_store",c,{location:"open-in-app-dialog"}),"ios"===c?window.location.href=d:window.location.href=u)},500)},[s,c,d,u,t]),v=(0,m.useCallback)(()=>{s.logEvent("clicked_open_in_app_not_now",c,{location:"open-in-app-dialog"}),o(!0),h(!1)},[o,h,s,c]);return(0,n.jsxs)(es.c,{open:f,setOpen:h,contentClassName:(0,l.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","w-full md:w-5/6 lg:w-3/5 max-w-sm","flex flex-col","md:overflow-hidden","px-6 py-6"),children:[(0,n.jsx)("div",{className:"w-full flex justify-center pt-4",children:(0,n.jsx)(ec.$I,{className:"w-32 h-14"})}),(0,n.jsxs)(et.fK,{className:"mb-2 sm:text-center",children:[(0,n.jsx)(ei.$N,{className:"sr-only",children:e("open-in-app-dialog.title","Open in App Dialog")}),(0,n.jsx)(et.Be,{className:"mb-1",children:e("Get the full Grok experience","Get the full Grok experience")})]}),(0,n.jsx)(r.zx,{asChild:!0,variant:"primary",size:"lg",onClick:x,children:(0,n.jsx)("div",{children:t.SHOW_OPEN_IN_APP_DIALOG_DOWNLOAD_DEFAULT?e("Download App","Download App"):e("Open in App","Open in App")})}),(0,n.jsx)(r.zx,{asChild:!0,variant:"secondary",size:"lg",onClick:v,children:(0,n.jsx)("div",{children:e("Not now","Not now")})})]})}var em=s(50253);s(42096),new WeakSet;var ef=s(25763),eh=s(48443),ex=s(70738),ev=s(12137),ep=s(85462),eg=s(90496),eb=s(55608);function ew(e){let{children:t,isVisible:s,minWidth:i,maxWidth:r,initialWidth:a,className:o}=e,[c,d]=(0,m.useState)(!1),[u,f]=(0,m.useState)(a);(0,m.useRef)(u).current=u;let h=(0,m.useRef)(null),x=(0,m.useRef)(document.body.clientWidth);(0,m.useEffect)(()=>{f(a)},[a]);let v=(0,m.useCallback)(e=>{e.preventDefault(),d(!0)},[]),p=(0,m.useCallback)(()=>{d(!1)},[]),g=(0,m.useCallback)(e=>{c&&h.current&&f(Math.max(i,Math.min(r,document.body.clientWidth-e.clientX)))},[c,i,r]),b=(0,m.useCallback)(()=>{f(Math.max(i,Math.min(r,a/x.current*document.body.clientWidth)))},[i,r,a]);return(0,m.useEffect)(()=>(window.addEventListener("mousemove",g),()=>window.removeEventListener("mousemove",g)),[g]),(0,m.useEffect)(()=>(window.addEventListener("mouseup",p),()=>window.removeEventListener("mouseup",p)),[p]),(0,m.useEffect)(()=>(window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)),[b]),(0,n.jsx)(eg.M,{children:s&&(0,n.jsx)(eb.E.div,{initial:{x:u,opacity:0,width:0},animate:{x:0,opacity:1,width:u},exit:{x:u,opacity:0,width:0},transition:c?{duration:0}:{type:"ease",ease:"easeInOut",duration:.2},className:(0,l.cn)("h-dvh flex-shrink-0",o),children:(0,n.jsxs)("div",{ref:h,className:"relative h-full w-full",children:[(0,n.jsx)("div",{className:(0,l.cn)("absolute start-0 top-0 bottom-0 w-2 cursor-col-resize border-l border-input-border hover:bg-card-hover z-50",c&&"bg-card-hover"),onMouseDown:v}),(0,n.jsxs)("div",{className:"h-full p-0",children:[t,c&&(0,n.jsx)("div",{className:"absolute inset-0 bg-transparent z-50"})]})]})})})}var ej=s(43666),ey=s(84737),eN=s(62339),eE=s(37545),eS=s(84906),eP=s(83759),ek=s(71110),eC=s(25693),eI=s(50433),e_=s(83242),eR=s(97773),ez=s(94804),eT=s(81828),eD=s(29671),eO=s(91403),eA=s(32887),eL=s(18342),eM=s(30206);function eU(e){let{fileMetadata:t,onClose:s,useRawFileURI:i,hideEdit:r}=e,{t:l}=(0,w.$G)("chat"),o=(0,a.g)(),{ASSET_SERVER_URL:c}=(0,eo.O)(),{data:d,isLoading:u,error:m}=(0,eC.aM)({queryKey:["asset",t.fileMetadataId],queryFn:async()=>i?t.fileUri:(0,eP.Vh)(c,t.fileUri)});if(u)return(0,n.jsxs)("div",{className:"p-4",children:[l("Loading","Loading"),"..."]});if(m)return(0,n.jsx)("div",{className:"p-4",children:l("Error: Could not access this content","Error: Could not access this content")});if(o.ENABLE_CSV_RENDERING&&["text/csv","application/csv"].includes(t.fileMimeType))return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center w-full mx-auto",children:(0,n.jsx)(eM.g,{assetUrl:d,fileMetadata:t})});if(t.fileMimeType.startsWith("text/"))return(0,n.jsx)(eG,{assetUrl:d,fileMetadata:t});switch(t.fileMimeType){case"image/jpeg":case"image/png":case"image/webp":return(0,n.jsx)(eZ,{assetUrl:d,fileMetadata:t,onClose:s,hideEdit:r});case"application/json":case"application/csv":case"application/x-yaml":case"application/xml":case"application/toml":case"":return(0,n.jsx)(eG,{assetUrl:d,fileMetadata:t});case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return(0,n.jsx)(eW,{assetUrl:d,fileMetadata:t});default:return(0,n.jsx)(e$,{assetUrl:d,fileMetadata:t})}}function eZ(e){let{assetUrl:t,fileMetadata:s,showControls:i=!1,onClose:l,hideEdit:o}=e,[c,d]=(0,m.useState)(!0),u=(0,a.g)(),{t:f}=(0,w.$G)("chat");(0,m.useEffect)(()=>{if(!t){d(!1);return}let e=new Image;return e.src=t,e.onload=()=>d(!1),e.onerror=()=>d(!1),()=>{e.onload=null,e.onerror=null}},[t]);let h=(0,m.useCallback)(()=>{t&&(0,ek.G)(t,s.fileName).catch((0,b.n4)("chat-asset-viewer:handleDownloadImage"))},[t,s]);return i?(0,n.jsx)("div",{className:"flex flex-col items-center justify-center w-full max-w-4xl mx-auto","data-vaul-no-drag":!0,children:(0,n.jsx)("div",{className:"relative w-full max-w-4xl mx-auto",children:(0,n.jsx)(eL.d$,{initialScale:1,initialPositionX:0,initialPositionY:0,children:e=>{let{zoomIn:i,zoomOut:a,resetTransform:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"absolute end-4 bottom-4 z-10 flex space-x-1 rounded-full bg-background p-1 opacity-80",children:[(0,n.jsx)(r.zx,{onClick:()=>i(),variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Zoom In",children:(0,n.jsx)(eI.Z,{className:"h-4 w-4"})}),(0,n.jsx)(r.zx,{onClick:()=>a(),variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Zoom Out",children:(0,n.jsx)(e_.Z,{className:"h-4 w-4"})}),(0,n.jsx)(r.zx,{onClick:()=>l(),variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Reset Zoom",children:(0,n.jsx)(eR.Z,{className:"h-4 w-4"})}),(0,n.jsx)(r.zx,{onClick:h,variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Reset Zoom",children:(0,n.jsx)(ez.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)(eL.Uv,{wrapperClass:"!w-full bg-primary/50 rounded-lg",children:(0,n.jsx)("img",{src:t,alt:s.fileName,className:"w-full h-auto shadow-md",onLoad:()=>a(),style:{maxHeight:"70vh"}})}),c&&(0,n.jsx)(eS.O,{className:"w-full h-[70vh] rounded-lg"})]})}})})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:t,alt:s.fileName,className:"w-[94vw] max-h-[calc(100vh-10rem)] max-w-5xl xl:max-w-6xl shadow cursor-pointer rounded-xl lg:w-fit object-contain"}),u.SHOW_IMAGE_EDIT&&t&&!o&&(0,n.jsx)("div",{className:"w-full flex justify-center absolute bottom-3 p-3",children:(0,n.jsxs)(eE.d,{className:"px-4 py-3 h-auto",buttonProps:{variant:"card",size:"pill"},editingImage:{url:t,metadata:s},location:"chat-asset-viewer",onClick:e=>{e.stopPropagation(),l()},children:[(0,n.jsx)(eN.NP,{className:"size-5 text-secondary"}),f("Edit Image","Edit Image")]})})]})}let eF=["text/plain","text/csv","application/csv"],eG=m.memo(function(e){let{assetUrl:t,fileMetadata:s}=e,{t:i}=(0,w.$G)("chat"),{resolvedTheme:r}=(0,eT.F)(),{isLoading:a,error:l,data:o}=(0,eC.aM)({queryKey:["text-asset",t],queryFn:async()=>{if(!t)throw Error("Asset URL is required");let e=await fetch(t,{method:"GET",credentials:"include"});if(!e.ok)throw Error("Failed to fetch: ".concat(e.statusText));return await e.text()},enabled:!!t});if(a)return(0,n.jsx)("div",{className:"p-4",children:i("Loading text…","Loading text…")});if(l)return(0,n.jsx)("div",{className:"p-4",children:i("errorMessage","Error: {{error}}",{error:l.message})});if(!o)return(0,n.jsx)("div",{className:"p-4",children:i("No text content available.","No text content available.")});let c=o.length>16384,d=eF.includes(s.fileMimeType),u=c||d?(0,n.jsx)("pre",{className:"w-full p-4 rounded-lg shadow-md text-sm font-mono overflow-auto max-h-[50dvh] sm:max-h-[calc(100dvh-6rem)] mb-4 bg-foreground",children:o}):(0,n.jsx)("div",{className:"w-full rounded-lg shadow-md text-sm font-mono overflow-auto max-h-[50dvh] sm:max-h-[calc(100dvh-6rem)] mb-4",children:(0,n.jsx)(eD.Z,{style:"dark"===r?eO.Z:eA.Z,customStyle:{background:"dark"===r?"#121314":"var(--foreground)",fontFamily:"var(--font-ibm-plex-mono)"},children:o})});return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center w-full max-w-4xl mx-auto",children:u})});function eW(e){let{assetUrl:t,fileMetadata:s}=e,{t:i}=(0,w.$G)("chat");return t?(0,n.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg mb-4",children:(0,n.jsx)("a",{href:t,download:s.fileName||"download",children:(0,n.jsx)(r.zx,{children:i("Download Asset","Download Asset")})})}):null}function e$(e){let{assetUrl:t,fileMetadata:s}=e,i=(0,m.useRef)(null);return(0,m.useEffect)(()=>{let e=()=>{if(i.current){let e=window.innerWidth<O.G,t=window.innerHeight*(e?.7:.9);i.current.style.height="".concat(t,"px")}};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg mb-4 w-full",children:(0,n.jsx)("iframe",{ref:i,src:t,width:"100%",height:"800px",title:s.fileName,className:"rounded-lg shadow-md"})})}eG.displayName="MemoizedTextAssetViewer";var eV=s(19922),eB=s(6899),eH=s(50539),eY=s(79663);let eK=(0,ea.U)(e=>({previewMode:"desktop",setPreviewMode:t=>e({previewMode:t}),isRefreshing:!1,refresh:()=>{e({isRefreshing:!0}),setTimeout(()=>e({isRefreshing:!1}),100)}}));var eq=s(69498),eJ=s(89357),eX=s(4203),eQ=s(43831);function e0(){let{t:e}=(0,w.$G)("chat"),{previewMode:t,setPreviewMode:s}=eK();return(0,n.jsx)(eY.mQ,{className:"flex-1 flex-row justify-center flex",defaultValue:"desktop",value:t,onValueChange:e=>s(e),children:(0,n.jsxs)(eY.dr,{children:[(0,n.jsxs)(eY.SP,{className:"gap-1",value:"desktop",children:[(0,n.jsx)(eq.Z,{className:"size-4"}),(0,n.jsx)("span",{className:"hidden md:inline",children:e("Wide","Wide")})]}),(0,n.jsxs)(eY.SP,{className:"gap-1",value:"mobile",children:[(0,n.jsx)(eJ.Z,{className:"size-4"}),(0,n.jsx)("span",{className:"hidden md:inline",children:e("Mobile","Mobile")})]})]})})}function e1(){let{refresh:e}=eK(),{t}=(0,w.$G)("chat");return(0,n.jsx)("div",{className:"flex gap-2 items-center",children:(0,n.jsxs)(M.u,{delayDuration:300,children:[(0,n.jsx)(M.aJ,{asChild:!0,children:(0,n.jsx)(r.zx,{variant:"outline",size:"icon",onClick:e,children:(0,n.jsx)(eX.Z,{size:16})})}),(0,n.jsx)(M._v,{children:(0,n.jsx)("p",{children:t("Refresh","Refresh")})})]})})}function e4(e){let{html:t}=e,{previewMode:s,isRefreshing:i}=eK();return(0,n.jsx)("div",{className:"h-full bg-foreground dark:bg-background",children:(0,n.jsx)("div",{className:"w-full h-full flex flex-col",children:(0,n.jsx)("div",{className:(0,l.cn)("bg-background-secondary flex-1 flex flex-col"),children:(0,n.jsx)("div",{className:(0,l.cn)("flex-1 bg-foreground","mobile"===s&&"max-w-lg mx-auto"),children:i?null:(0,n.jsx)(eQ.G,{srcDoc:t,autofocus:!0})})})})})}var e5=s(41330),e2=s(34521);let e3=[],e8=e=>{let{responseId:t}=e,[s,i]=(0,m.useState)(""),r=(0,e5.CI)(e=>e.byId[t]);return(0,m.useEffect)(()=>{let e=setInterval(()=>{var e;i((null===(e=r.steps)||void 0===e?void 0:e.map(e=>{var t,s,n;if(!(null===(t=e.tags)||void 0===t?void 0:t.includes("assistant")))return"";let i=null===(s=e.tags)||void 0===s?void 0:s.indexOf("assistant");return(null===(n=e.text)||void 0===n?void 0:n[i])||""}).join(" "))||"")},100);return()=>clearInterval(e)},[r.steps]),(0,n.jsx)(e2._I,{sender:"assistant",webSearchResults:e3,xposts:e3,children:s})};function e7(){var e;let{t}=(0,w.$G)("chat"),s=(0,a.g)(),i=(0,eV.gK)(J.Z("sidePanelContent")),o=(0,eV.gK)(J.Z("setSidePanelContent")),[c,d]=(0,m.useState)(void 0),f=["htmlPreview","artifact"].includes(null!==(e=null==i?void 0:i.type)&&void 0!==e?e:""),h=i&&"asset"===i.type&&(i.data.fileMimeType.startsWith("text/csv")||i.data.fileMimeType.startsWith("application/csv")),x=f||s.ENABLE_CSV_RENDERING&&h,v=(0,O.w)(f?1024:void 0),p=(null==i?void 0:i.type)==="thinkingTrace"?740:.62*document.body.clientWidth,g=(0,m.useCallback)(()=>{o(void 0)},[o]),b=()=>{var e,a,m,f;let h,x,p,b;if(!i)return null;let{type:w,data:j}=i,y=null,N=null;switch(w){case"asset":h=(0,n.jsx)(ey.Z,{className:"!size-5"}),x=j.fileName.length>0?j.fileName:"File",b=(0,n.jsx)("div",{className:"flex flex-col items-center gap-2 px-4 pb-2",children:(0,n.jsx)(eU,{fileMetadata:j,onClose:g,hideEdit:i.hideEdit})});break;case"rawAsset":h=(0,n.jsx)(ey.Z,{className:"!size-5"}),x=j.fileName.length>0?j.fileName:"File",b=(0,n.jsx)("div",{className:"flex flex-col items-center gap-2 px-4 pb-2",children:(0,n.jsx)(eU,{fileMetadata:j,onClose:g,useRawFileURI:!0})});break;case"webSearchResults":x=t("Search Results","Search Results"),b=(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 px-4 pb-2",children:[j.webSearchResults.map(e=>(0,n.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,n.jsx)(ev.Fg,{webSearchResult:e})},e.url)),!!(null===(e=j.browsedUrls)||void 0===e?void 0:e.length)&&(null===(a=j.browsedUrls)||void 0===a?void 0:a.length)>0&&(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"text-base font-medium pb-2",children:t("Deep Search: Browsed URLs","Deep Search: Browsed URLs")}),null===(m=j.browsedUrls)||void 0===m?void 0:m.map(e=>(0,n.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,n.jsx)(ev.Fg,{webSearchResult:{url:e,title:e,preview:"",searchEngineText:"",description:"",siteName:"",metadataTitle:"",creator:"",image:"",favicon:"",citationId:""}})},e))]})]});break;case"xPosts":x=t("\uD835\uDD4F Posts","\uD835\uDD4F Posts"),b=(0,n.jsx)("div",{className:"flex flex-col items-center px-4 pb-2",children:j.map(e=>(0,n.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,n.jsx)(ev.jW,{xPost:e})},e.postId))});break;case"memoryReferences":x=(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[t("response-action.referenced-conversations","Referenced Conversations"),(0,n.jsx)(ej.v,{})]}),p=t("Forgetting conversations won’t delete them from history","Forgetting conversations won’t delete them from history"),b=(0,n.jsx)(ep.L,{responseId:j.responseId,memoryReferences:j.memoryReferences});break;case"thinkingTrace":x=t("Thoughts","Thoughts"),b=(0,n.jsx)(eb.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"[&>*:first-child]:mt-0 h-fit overflow-x-auto w-full focus:outline-none focus-within:outline-none px-3 prose dark:prose-invert",children:(0,n.jsx)(e8,{responseId:j.responseId})});break;case"artifact":x=null,b=(0,n.jsx)(eB.k,{artifact:j.artifact,onSetMenu:s.ENABLE_ARTIFACTS_EDITING?d:void 0,readOnly:j.readOnly}),N=null,y=(0,n.jsx)(eH.z,{artifact:j.artifact,contentButtons:c,readOnly:j.readOnly});break;case"htmlPreview":y=(0,n.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,n.jsx)(e0,{}),(0,n.jsx)(e1,{})]}),b=(0,n.jsx)(e4,{html:j});break;default:throw Error("Unknown side panel content type")}let E=["asset","webSearchResults","xPosts","memoryReferences"].includes(null!==(f=null==i?void 0:i.type)&&void 0!==f?f:"");return(0,n.jsxs)("aside",{className:"max-h-[97dvh] h-[97dvh] lg:max-h-none lg:h-full flex flex-col w-full overflow-y-auto overflow-x-hidden bg-background-secondary",children:[(0,n.jsxs)("div",{className:(0,l.cn)("flex z-10 flex-row items-center justify-between flex-shrink-0 w-full px-2 md:px-5 sticky top-0 bg-gradient-to-b from-background-secondary via-background-secondary to-transparent",p?"h-[4.5rem] via-90%":"h-12 md:h-16 via-80%"),children:[y||(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center max-w-[80%]",children:[h&&(0,n.jsx)("div",{className:"flex-shrink-0",children:h}),(0,n.jsxs)("div",{className:(0,l.cn)("flex flex-col items-start w-full",v&&"gap-1",E&&"ps-2 md:ps-3"),children:[(0,n.jsx)("div",{className:"truncate text-base font-medium w-full",children:v?(0,n.jsx)(et.$N,{children:x}):x}),p&&(0,n.jsx)("div",{className:(0,l.cn)("text-xs text-secondary w-full",!v&&"truncate"),children:v?(0,n.jsx)(et.Be,{children:p}):p})]})]}),N,(0,n.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[null,(0,n.jsxs)(M.u,{delayDuration:300,children:[(0,n.jsx)(M.aJ,{asChild:!0,children:(0,n.jsx)(r.zx,{variant:"ghost",size:"icon",onClick:()=>o(void 0),className:"flex-shrink-0 rounded-full","aria-label":t("Close","Close"),children:(0,n.jsx)(u.Z,{size:20,strokeWidth:2})})}),(0,n.jsx)(M._v,{children:(0,n.jsx)("p",{children:t("Close","Close")})})]})]})]}),(0,n.jsx)("div",{className:(0,l.cn)("flex-grow w-full h-fit overflow-y-visible",(null==i?void 0:i.type)==="artifact"&&"overflow-y-auto min-h-0 flex-1 p-0"),children:b})]})};return v?(0,n.jsx)(D.dy,{open:!!i,onOpenChange:e=>o(e?i:void 0),children:(0,n.jsx)(D.sc,{className:"focus:outline-none",disableDrag:!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),children:b()})}):i&&"asset"===i.type&&i.data.fileMimeType.startsWith("image/")?(0,n.jsx)(ei.Vq,{open:!!i,onOpenChange:e=>{o(e?i:void 0)},children:(0,n.jsx)(et.PK,{children:(0,n.jsx)(et.cZ,{className:(0,l.cn)("bg-transparent h-full w-full","!scale-100 !-translate-x-1/2 !-translate-y-1/2"),children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",onClick:()=>o(void 0),children:[(0,n.jsx)(eU,{fileMetadata:i.data,onClose:g,hideEdit:i.hideEdit}),(0,n.jsx)("div",{className:"absolute flex-col justify-between hidden lg:flex end-3 inset-y-3 dark",children:(0,n.jsx)(r.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),o(void 0)},children:(0,n.jsx)(u.Z,{className:"size-5"})})})]})})})}):(0,n.jsx)(ew,{isVisible:!!i,minWidth:f&&!v?550:288,maxWidth:p,initialWidth:x?.66*document.body.clientWidth:480,className:"max-w-[66%] xl:max-w-none",children:b()})}function e6(e){let{children:t}=e,s=(0,a.g)(),r=(0,B.t)(J.Z("list")),l=(0,Z.r)(),{os:o}=(0,en.i)(),c=(0,p.useSession)(),d=(0,q.usePathname)(),u=!(null==d?void 0:d.startsWith("/coming-soon")),h=(0,K.F)(J.Z("showAgeVerification")),v=(0,K.F)(J.Z("ageVerificationCallback"));(function(e){var t;let[s,n]=(0,f.Z)("hasPreviouslyInitUserSettings",!1),{data:i}=(0,em.Pd)(),r=null==i?void 0:null===(t=i.subscriptions)||void 0===t?void 0:t.some(e=>!!e.enterprise),{client:a}=(0,er.useStatsigClient)();(0,m.useEffect)(()=>{var t,i;if(e.user){if(null===(i=e.user)||void 0===i?void 0:null===(t=i.email)||void 0===t?void 0:t.endsWith("@x.ai"));else if((0,ef.g)(e.countryCode)){if(a.logEvent("initialize_gdpr_user_settings",e.countryCode,{location:"loadout",countryCode:e.countryCode||"",hasPreviouslyInitUserSettings:String(s)}),!s){K.F.getState().initializeGdprUserSettings().then(()=>n(!0)).catch(()=>(0,b.H)("loadout","Failed to initialize GDPR user settings"));return}}else if(r){K.F.getState().initializeEnterpriseUserSettings().catch(()=>(0,b.H)("loadout","Failed to initialize enterprise user settings"));return}K.F.getState().fetchGetUserSettings().catch(()=>(0,b.H)("loadout","Failed to load user settings"))}},[e.user,a])})(c),function(e){let{personalityPresets:t}=function(){let e=(0,a.g)(),{t}=(0,w.$G)("base"),s={concise:t("personality.concise.name","Concise"),formal:t("personality.formal.name","Formal"),socratic:t("personality.socratic.name","Socratic")},n={concise:t("personality.concise.description","Responds briefly and directly."),formal:t("personality.formal.description","Responds using a formal tone."),socratic:t("personality.socratic.description","Responds in a way to help you learn.")},i=(0,m.useMemo)(()=>{let t=(e.PERSONALITY_PRESETS.value.personalityPresets&&Array.isArray(e.PERSONALITY_PRESETS.value.personalityPresets)?e.PERSONALITY_PRESETS.value.personalityPresets:[]).map(e=>Y.xn.safeParse(e)).filter(e=>e.success).map(e=>{var t,i;let{data:r}=e;return{...r,isPreset:!0,name:null!==(t=s[r.personalityId])&&void 0!==t?t:r.name,description:null!==(i=n[r.personalityId])&&void 0!==i?i:r.description}});return V().keyBy(t,e=>e.personalityId)},[e.PERSONALITY_PRESETS.value]);return{personalityPresets:(0,m.useMemo)(()=>Object.values(i),[i]),personalityPresetById:i}}();(0,m.useEffect)(()=>{Y.Zv.getState().appendPersonalities(t)},[t]),(0,m.useEffect)(()=>{e.user&&Y.Zv.getState().fetchListPersonalities().catch(e=>(0,b.H)("loadout:fetchList","Failed to load custom personalities: ".concat(e)))},[e.user])}(c);let g=(0,em.Pd)();(0,m.useEffect)(()=>{if((c.user||c.anonUser)&&!g.isPending){var e,t,s;ex.w.setState({hasSubscriptions:(null===(e=g.data)||void 0===e?void 0:e.hasSubscriptions)||!1,subscriptions:(null===(t=g.data)||void 0===t?void 0:t.subscriptions)||[],bestSubscription:(null===(s=g.data)||void 0===s?void 0:s.bestSubscription)||"SUBSCRIPTION_TIER_INVALID"})}},[g,c.user,c.anonUser]);let j=(0,F.bP)();return(0,m.useEffect)(()=>{(c.user||c.anonUser)&&(j.isPending||H.p.setState(j))},[j,c.user,c.anonUser]),(0,m.useEffect)(()=>{!function(){let e=!1,t=0,s=0,n=null;function i(){"visible"===document.visibilityState&&(e||(e=!0,t=performance.now()),null!==n&&clearTimeout(n),n=setTimeout(r,1e4))}function r(){if(e){e=!1;let n=performance.now()-t;s+=n,null===W.statsigClient||void 0===W.statsigClient||W.statsigClient.logEvent("session_active_time",n,{sessionActiveTimeMs:n.toString(),totalActiveTimeMs:s.toString()})}}document.addEventListener("mousemove",V().throttle(i,500)),document.addEventListener("keydown",V().throttle(i,500)),document.addEventListener("click",V().throttle(i,500)),document.addEventListener("scroll",V().throttle(i,500)),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&e&&r(),"visible"!==document.visibilityState||e||i()}),window.addEventListener("beforeunload",()=>{e&&r()})}()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee.Ou,{}),(0,n.jsx)(X.W,{backend:Q.PD,children:(0,n.jsxs)(M.pn,{delayDuration:300,skipDelayDuration:0,disableHoverableContent:!0,children:[!c.user&&!l&&!!r.length&&(0,n.jsx)(L,{}),(0,n.jsxs)(eh.o,{className:"flex w-full h-full",children:[(0,n.jsx)(x,{}),(0,n.jsxs)("div",{className:"flex w-full h-full overflow-hidden @container/mainview",children:[s.SHOW_OPEN_IN_APP_DIALOG&&"ios"===o&&(0,n.jsx)(eu,{}),h&&!c.user&&(0,n.jsx)(i.l$,{onPass:v}),u&&(0,n.jsx)(y,{}),t]}),(0,n.jsx)(e7,{})]}),(0,n.jsx)(U.ev,{}),(0,n.jsx)(e9,{})]})}),!1]})}function e9(){let{t:e}=(0,w.$G)("base"),t=G(),s=(0,m.useRef)(null);return(0,m.useEffect)(()=>{t||s.current?s.current&&(j.Am.dismiss(s.current),s.current=null):s.current=j.Am.error(e("You are offline","You are offline"),{duration:1/0})},[t]),null}},37545:function(e,t,s){"use strict";s.d(t,{d:function(){return v}});var n=s(584),i=s(61500),r=s(22852),a=s(37173),l=s(83759),o=s(7263),c=s(46751),d=s(11140),u=s(32088),m=s(9354),f=s(50240),h=s(66070),x=s(8521);let v=e=>{let{conversationId:t,shouldGetFromStore:s=!1,editingImage:v,className:p,buttonProps:g,location:b,children:w,onClick:j}=e,{t:y}=(0,h.$G)("base"),{ASSET_SERVER_URL:N}=(0,i.O)(),E=(0,d.i)(m.Z("open")),S=(0,c.O)(m.Z("listByConversationId")),P=(0,c.O)(m.Z("attachListByConversationId")),{client:k}=(0,u.useStatsigClient)(),C=S[null!=t?t:"no_conversation_id"],I=P[null!=t?t:"no_conversation_id"],_=(0,f.useMemo)(()=>{var e,t;return(null==C?void 0:C[0])&&(null==C?void 0:null===(e=C[0])||void 0===e?void 0:e.metadata)?null==C?void 0:null===(t=C[0])||void 0===t?void 0:t.metadata:(null==I?void 0:I[0])?(0,x.I)(null==I?void 0:I[0]):void 0},[C,I]),R=(0,f.useMemo)(()=>{if(!(_ instanceof Error))return null==_?void 0:_.fileUri},[_]),z=(0,f.useMemo)(()=>s&&!(_&&!(_ instanceof Error)),[s,_]),T=(0,f.useCallback)(e=>{e.stopPropagation(),!s||!_||_ instanceof Error?v&&E(v):E({metadata:_,url:(0,l.Vh)(N,R)});let t=v&&"assetKey"in v?v.assetKey:R||"";k.logEvent("image_editor_open",(0,a.s)(t||""),{location:b||""}),j&&j(e)},[s,v,_,R,j,k,t]);return(0,n.jsx)(r.zx,{...g,"aria-label":y("Edit image","Edit image"),disabled:z,className:(0,o.cn)("bg-surface-l2 hover:bg-surface-l4-hover dark:hover:bg-surface-l3",!z&&"*:hover:text-primary *:hover:transition-colors",p),onClick:T,children:w})}},65032:function(e,t,s){"use strict";s.d(t,{QueryClientProvider:function(){return a}});var n=s(584),i=s(25693),r=s(28152);let a=e=>{let{children:t,dehydratedState:s}=e,a=(0,r.g)();return(0,n.jsx)(i.aH,{client:a,children:(0,n.jsx)(i.Rq,{state:s,children:t})})}},28152:function(e,t,s){"use strict";let n;s.d(t,{g:function(){return a}});var i=s(25693);let r=()=>new i.Su({defaultOptions:{queries:{staleTime:3e5,gcTime:3e5}}}),a=()=>i.sk?r():(n||(n=r()),n)},84906:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});var n=s(584),i=s(7263);function r(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},91352:function(e,t,s){"use strict";s.d(t,{Toaster:function(){return o}});var n=s(584),i=s(7263),r=s(22838),a=s(81828),l=s(99406);let o=e=>{let{...t}=e,{theme:s}=(0,a.F)();return(0,n.jsx)(l.x7,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:(0,i.cn)("group toast bg-popover rounded-2xl border-0 shadow-sm","w-fit min-w-[200px] left-0 right-0 sm:mx-auto","ring-1 ring-inset ring-input-border","p-3.5 h-fit"),title:"text-primary font-bold",icon:"ml-0 mr-1",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},icons:{error:(0,n.jsx)(r.Z,{size:18})},...t})}},37173:function(e,t,s){"use strict";s.d(t,{s:function(){return a},t:function(){return r}});var n=s(78253),i=s(50240);function r(){let e=(0,i.useRef)(void 0),t=(0,i.useRef)(void 0),s=(0,i.useCallback)(()=>{e.current=Date.now()},[]),r=(0,i.useCallback)(()=>{t.current=Date.now()},[]),a=(0,i.useCallback)(()=>{let t=(0,n.Z)(e.current);return e.current=void 0,t},[]),l=(0,i.useCallback)(()=>{let e=(0,n.Z)(t.current);return t.current=void 0,e},[]),o=(0,i.useCallback)(()=>{e.current=void 0,t.current=void 0},[]);return{handleSendStart:s,handleStreamingStart:r,consumeTimeToSendMs:a,consumeStreamingTimeMs:l,timeToSendStart:e.current,streamingTimeStart:t.current,reset:o}}let a=e=>e.replace(/^https?:\/\/[^/]+\/?/,"").replace(/\/(original_image|image)\.jpg$/,"")},65205:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var n=s(50240);function i(e){let t=(0,n.useRef)(void 0);t.current=e;let[s,i]=(0,n.useState)(),[r,a]=(0,n.useState)(),[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{if(!e){i(void 0),a(void 0),o(!0),d(!1),m(!1),h(!0),v(!1);return}if(!f){h(!0);return}let s={status:"UNSET",value:void 0,error:void 0};e.then(n=>{t.current===e&&("PASSED"===s.status?(i(n),a(void 0),o(!0),d(!1),m(!1)):(s.status="SETVALUE",s.value=n))}).catch(n=>{t.current===e&&("PASSED"===s.status?(i(void 0),a(n),o(!1),d(!0),m(!1)):(s.status="SETERROR",s.error=n))}),setTimeout(()=>{if(t.current===e){switch(v(!1),s.status){case"UNSET":i(void 0),a(void 0),o(!1),d(!1),m(!0);break;case"SETVALUE":i(s.value),a(void 0),o(!0),d(!1),m(!1);break;case"SETERROR":i(void 0),a(s.error),o(!1),d(!0),m(!1)}s.status="PASSED"}})},[f,e]),{data:s,error:r,isResolved:l,isErrored:c,isLoading:u,isUninitialized:x}}},48443:function(e,t,s){"use strict";s.d(t,{_:function(){return o},o:function(){return d}});var n=s(584),i=s(50240),r=s(84280),a=s(49675);let l=(0,i.createContext)(null);function o(e,t){let s=(0,i.useContext)(l);if(!s)throw Error("Add GlobalFileDropProvider when using useGlobalFileDrop");let n=(0,i.useRef)(Symbol("useGlobalFileId")),{collectedProps:r,hookId:a,subscribe:o}=s;return(0,i.useEffect)(()=>{if(a&&a!==n.current){console.warn("Other component already taken over GlobaFileDropProvider");return}return o({options:"function"==typeof e?e():e,hookId:n.current}),()=>{o(null)}},[o,...null!=t?t:[]]),r}let c={accept:[a.FILE]};function d(e){var t,s;let{className:a,children:o}=e,[d,u]=(0,i.useState)(null),m=(0,i.useRef)(null),f=null!==(t=null==d?void 0:d.options)&&void 0!==t?t:c,[h,x]=(0,r.L)(f);x(m);let v=null!==(s=null==d?void 0:d.hookId)&&void 0!==s?s:null,p=(0,i.useMemo)(()=>({collectedProps:h,hookId:v,subscribe:u}),[h,u,v]);return(0,n.jsx)("div",{ref:m,className:a,"data-testid":"global-drop",children:(0,n.jsx)(l.Provider,{value:p,children:o})})}},53710:function(e,t,s){"use strict";s.d(t,{DirectionProvider:function(){return c}});var n=s(584),i=s(32088),r=s(73929),a=s(80822),l=s(50240),o=s(879);function c(e){let{children:t}=e,[s,c]=(0,l.useState)(()=>(0,o.w1)(r.ZP.language)),{client:d}=(0,i.useStatsigClient)();return(0,l.useEffect)(()=>{let e=e=>{r.ZP.isInitializing||d.logEvent("locale_changed",e,{languages:r.ZP.languages.join(", "),location:"src/lib/locales/direction-provider"});let t=(0,o.w1)(e);"rtl"===t?document.body.dir=t:document.body.dir="",c(t)};return r.ZP.on("languageChanged",e),()=>r.ZP.off("languageChanged",e)},[]),(0,n.jsx)(a.zt,{dir:s,children:t})}},16199:function(e,t,s){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}s.d(t,{Z:function(){return n}})},78253:function(e,t,s){"use strict";function n(e){return e?Date.now()-e:0}s.d(t,{Z:function(){return n}})},11140:function(e,t,s){"use strict";s.d(t,{i:function(){return r}});var n=s(27435);class i{constructor(e,t){this.set=e,this.get=t,this.isOpen=!1,this.currentImage=null,this.setImage=e=>{this.set({currentImage:e})},this.open=e=>{this.set({currentImage:null!=e?e:null,isOpen:!0})},this.close=()=>{this.set({currentImage:null,isOpen:!1})}}}let r=(0,n.MT)(i)},23310:function(e,t,s){"use strict";s.d(t,{_:function(){return r}});var n=s(27435);class i{constructor(e,t){this.set=e,this.get=t,this.isUpselling=!1,this.setIsUpselling=(0,n.f0)(this.set,"isUpselling")}}let r=(0,n.MT)(i);"#subscribe"===window.location.hash&&r.getState().setIsUpselling(!0),r.subscribe((e,t)=>{var s;e.isUpselling!==t.isUpselling&&(s=e.isUpselling?"subscribe":void 0,window.history.pushState({},"","".concat(window.location.pathname).concat(s?"#".concat(s):"")))}),window.addEventListener("popstate",()=>{let e=window.location.hash;r.getState().setIsUpselling("#subscribe"===e)})},29364:function(){}},function(e){e.O(0,[2476,4429,8437,6299,6786,1311,9782,4361,6060,6791,4947,7134,1406,8687,59,8149,9007,8410,5358,2486,6404,889,4528,4604,5693,4853,4265,7631,8324,5908,8498,7012,8137,171,5076,6049,2063,6330,2951,1744],function(){return e(e.s=52215)}),_N_E=e.O()}]);